<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
	</head>
	<style>
		.mui-table-view-cell.mui-active {
			background-color: #fff;
		}
	</style>

	<body style="background: #fff;">
		<script src="js/mui.min.js"></script>
		<script src="js/jquery-2.1.0.js"></script>
		<script type="text/javascript">
			mui.init()
		</script>
		<header class="mui-bar mui-bar-nav" style="background: #69e2b9;">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left" style="color: #fff;"></a>
			<h1 class="mui-title" style="color: #fff;font-weight: bold;font-size: 20px;">答案</h1>
		</header>
		<div class="mui-content" id="tableData">
			<div class="mui-card" style="margin: 0;box-shadow: none;">
				<ul class="mui-table-view" id="datika">
					<li class="mui-table-view-cell nm1" style="font-size: 15px;">单项填空</li>
				

				</ul>
			</div>

<div class="mui-card" style="margin: 0;box-shadow: none;">
				<ul class="mui-table-view" id="wanxing">
					<li class="mui-table-view-cell nm1" style="font-size: 15px;">完形填空</li>
					

				</ul>
			</div>
<div class="mui-card" style="margin: 0;box-shadow: none;">
				<ul class="mui-table-view" id="yuedu">
					<li class="mui-table-view-cell nm1" style="font-size: 15px;">阅读理解</li>
					

				</ul>
			</div>

<div class="mui-card" style="margin: 0;box-shadow: none;">
				<ul class="mui-table-view" id="renwuxing">
					<li class="mui-table-view-cell nm1" style="font-size: 15px;">任务型阅读</li>
					

				</ul>
			</div>



		</div>

	</body>
	<script type="text/template">
		<li class="mui-table-view-cell nm1" style="padding-top: 0px;padding-bottom: 0px;margin-top: -7px;">
						<div class="mui-card">
							<div class="mui-card-content">

								<ul class="mui-table-view">
									<li class="mui-table-view-cell mui-collapse">
										<div style="float: left;font-size: 16px;">{sub_qp_seq}、{sub_qp_title}</div>
										<div style="clear: both;float: left;color: #565656;font-size: 14px;margin-top: 8px;">正确答案：</div>
										<div style="float: left;font-size: 14px;color: #ff9797;margin-top: 8px">{right_ask}</div>
										<div style="clear: both;float: left;color: #565656;font-size: 14px;margin-top: 8px;">你的答案：</div>
										<div style="float: left;font-size: 14px;color: #ff9797;margin-top: 8px">{user_ask}</div>
										<a style="float: right;font-size: 9px;color: #8f8f8f;margin-top: -3px"  id="strhref">详解</a>
										<div class="mui-collapse-content" style="margin-top: 125px;font-size: 9px;color: #8f8f8f;">
											<p>{sub_qp_anl}</p>
										</div>
									</li>	
								</ul>
							
							</div>
						</div>

				</li>
	</script>
	
	<script id="wanxing1" type="text/html">
		<li class="mui-table-view-cell nm1" style="padding-top: 0px;padding-bottom: 0px;margin-top: -7px;">
						<div class="mui-card">
							<div class="mui-card-content">

								<ul class="mui-table-view">
									<li class="mui-table-view-cell mui-collapse">
										<div style="float: left;font-size: 16px;">{sub_qp_seq}、{sub_qp_title}</div>
										<div style="clear: both;float: left;color: #565656;font-size: 14px;margin-top: 8px;">正确答案：</div>
										<div style="float: left;font-size: 14px;color: #ff9797;margin-top: 8px">{right_ask}</div>
										<div style="clear: both;float: left;color: #565656;font-size: 14px;margin-top: 8px;">你的答案：</div>
										<div style="float: left;font-size: 14px;color: #ff9797;margin-top: 8px">{user_ask}</div>
										<a style="float: right;font-size: 9px;color: #8f8f8f;margin-top: -3px"  id="strhref">详解</a>
										<div class="mui-collapse-content" style="margin-top: 125px;font-size: 9px;color: #8f8f8f;">
											<p>{sub_qp_anl}</p>
										</div>
									</li>	
								</ul>
							
							</div>
						</div>

				</li>
		
	</script>
	
	

	<script id="yuedu1" type="text/html">
		<li class="mui-table-view-cell nm1" style="padding-top: 0px;padding-bottom: 0px;margin-top: -7px;">
						<div class="mui-card">
							<div class="mui-card-content">

								<ul class="mui-table-view">
									<li class="mui-table-view-cell mui-collapse">
										<div style="float: left;font-size: 16px;">{sub_qp_seq}、{sub_qp_title}</div>
										<div style="clear: both;float: left;color: #565656;font-size: 14px;margin-top: 8px;">正确答案：</div>
										<div style="float: left;font-size: 14px;color: #ff9797;margin-top: 8px">{right_ask}</div>
										<div style="clear: both;float: left;color: #565656;font-size: 14px;margin-top: 8px;">你的答案：</div>
										<div style="float: left;font-size: 14px;color: #ff9797;margin-top: 8px">{user_ask}</div>
										<a style="float: right;font-size: 9px;color: #8f8f8f;margin-top: -3px"  id="strhref">详解</a>
										<div class="mui-collapse-content" style="margin-top: 125px;font-size: 9px;color: #8f8f8f;">
											<p>{sub_qp_anl}</p>
										</div>
									</li>	
								</ul>
							
							</div>
						</div>

				</li>
		
	</script>
	
	<script id="renwuxing1" type="text/html">
		<li class="mui-table-view-cell nm1" style="padding-top: 0px;padding-bottom: 0px;margin-top: -7px;">
						<div class="mui-card">
							<div class="mui-card-content">

								<ul class="mui-table-view">
									<li class="mui-table-view-cell mui-collapse">
										<div style="float: left;font-size: 16px;">{sub_qp_seq}、</div>
										<div style="clear: both;float: left;color: #565656;font-size: 14px;margin-top: 8px;">正确答案：</div>
										<div style="float: left;font-size: 14px;color: #ff9797;margin-top: 8px">{right_ask}</div>
										<div style="clear: both;float: left;color: #565656;font-size: 14px;margin-top: 8px;">你的答案：</div>
										<div style="float: left;font-size: 14px;color: #ff9797;margin-top: 8px">{user_ask}</div>
										<a style="float: right;font-size: 9px;color: #8f8f8f;margin-top: -3px"  id="strhref">详解</a>
										<div class="mui-collapse-content" style="margin-top: 125px;font-size: 9px;color: #8f8f8f;">
											<p>{sub_qp_anl}</p>
										</div>
									</li>	
								</ul>
							
							</div>
						</div>

				</li>
		
	</script>
	
	<script>
		mui.init({
	beforeback: function(){
		//获得列表界面的webview
		var list = plus.webview.getWebviewById('list');
		//触发列表界面的自定义事件（refresh）,从而进行数据刷新
		mui.fire(list,'refresh');
		//返回true，继续页面关闭逻辑
		return true;
	}
});

		mui.plusReady(function() {
		
		
			
			plus.navigator.setStatusBarBackground('#69e2b9');
			function formatTemplate(data, tmpl) {
				var format = {
					name: function(x) {
						return x;
					}
				};
				return tmpl.replace(/{(\w+)}/g, function(m1, m2) {
					if(!m2)
						return "";
					return(format && format[m2]) ? format[m2](data[m2]) : data[m2];
				});
			}
var Id=localStorage.ID
			var tou = localStorage.token
			var myDate=localStorage.myDate
			mui.ajax(`${sever}xgt_sub_task_dtl/Danxuanlist`, {
				data:{
					'Id':Id,
					'myDate':myDate
				},
				dataType: 'json', //服务器返回json格式数据
				type: 'post', //HTTP请求类型
				timeout: 10000, //超时时间设置为10秒；
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded',
					'Authorization': "" + 'Bearer ' + tou + ""
				},
				success: function(data) {
					console.log(JSON.stringify(data))
				
				
				
					if(!data || !data || data.length <= 0) {
						return;
					}

					//获取模板上的HTML  
					var html = $('script[type="text/template"]').html();
					//定义一个数组，用来接收格式化合的数据  
					var arr = [];
					//对数据进行遍历  
					$.each(data, function(i, o) {
						o.lie_shu = JSON.stringify(i + 1)
						//这里取到o就是上面rows数组中的值, formatTemplate是最开始定义的方法.
						arr.push(formatTemplate(o, html));
					});
					//好了，最后把数组化成字符串，并添加到table中去。  
					$('#datika').append(arr.join(''));

					//			mui(".mui-card").on("tap", ".mui-table-view-cell", function() {
					//				//当前对象直接就是--->this
					//				var nm2 = this.id;
					//				//获取父页面A.html
					//				var main = plus.webview.getWebviewById("churuku.html");
					//				//自定义事件,事件名为changeCity
					//				mui.fire(main, 'changeName1', {
					//					nm: nm2
					//				});
					//				//关闭子页面
					//				mui.back();
					//
					//			});

				},
				error: function(xhr, type, errorThrown) {
					//异常处理；
					console.log(type);
				}
			});

			
			
			
			function formatTemplate(dta, tmpl) {
				var format = {
					name: function(x) {
						return x;
					}
				};
				return tmpl.replace(/{(\w+)}/g, function(m1, m2) {
					if(!m2)
						return "";
					return(format && format[m2]) ? format[m2](dta[m2]) : dta[m2];
				});
			}
var Id=localStorage.ID
var myDate=localStorage.myDate
			var tou = localStorage.token
			mui.ajax(`${sever}xgt_sub_task_dtl/Yuedulist`, {
				data:{
					'Id':Id,
					'myDate':myDate
				},
				dataType: 'json', //服务器返回json格式数据
				type: 'post', //HTTP请求类型
				timeout: 10000, //超时时间设置为10秒；
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded',
					'Authorization': "" + 'Bearer ' + tou + ""
				},
				success: function(data) {
					console.log(JSON.stringify(data))
				if(!data || !data || data.length <= 0) {
						return;
					}

					//获取模板上的HTML  
					var html = $('#yuedu1').html();
					//定义一个数组，用来接收格式化合的数据  
					var arr = [];
					//对数据进行遍历  
					$.each(data, function(i, o) {
						o.lie_shu = JSON.stringify(i + 1)
						//这里取到o就是上面rows数组中的值, formatTemplate是最开始定义的方法.
						arr.push(formatTemplate(o, html));
					});
					//好了，最后把数组化成字符串，并添加到table中去。  
					$('#yuedu').append(arr.join(''));

					//			mui(".mui-card").on("tap", ".mui-table-view-cell", function() {
					//				//当前对象直接就是--->this
					//				var nm2 = this.id;
					//				//获取父页面A.html
					//				var main = plus.webview.getWebviewById("churuku.html");
					//				//自定义事件,事件名为changeCity
					//				mui.fire(main, 'changeName1', {
					//					nm: nm2
					//				});
					//				//关闭子页面
					//				mui.back();
					//
					//			});

				},
				error: function(xhr, type, errorThrown) {
					//异常处理；
					console.log(type);
				}
			});
			
			
			function formatTemplate(dta, tmpl) {
				var format = {
					name: function(x) {
						return x;
					}
				};
				return tmpl.replace(/{(\w+)}/g, function(m1, m2) {
					if(!m2)
						return "";
					return(format && format[m2]) ? format[m2](dta[m2]) : dta[m2];
				});
			}
var Id=localStorage.ID
var myDate=localStorage.myDate
			var tou = localStorage.token
			mui.ajax(`${sever}xgt_sub_task_dtl/Wanxinglist`, {
				data:{
					'Id':Id,
					'myDate':myDate
				},
				dataType: 'json', //服务器返回json格式数据
				type: 'post', //HTTP请求类型
				timeout: 10000, //超时时间设置为10秒；
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded',
					'Authorization': "" + 'Bearer ' + tou + ""
				},
				success: function(data) {
					console.log(JSON.stringify(data))
				if(!data || !data || data.length <= 0) {
						return;
					}

					//获取模板上的HTML  
					var html = $('#wanxing1').html();
					//定义一个数组，用来接收格式化合的数据  
					var arr = [];
					//对数据进行遍历  
					$.each(data, function(i, o) {
						o.lie_shu = JSON.stringify(i + 1)
						//这里取到o就是上面rows数组中的值, formatTemplate是最开始定义的方法.
						arr.push(formatTemplate(o, html));
					});
					//好了，最后把数组化成字符串，并添加到table中去。  
					$('#wanxing').append(arr.join(''));

					//			mui(".mui-card").on("tap", ".mui-table-view-cell", function() {
					//				//当前对象直接就是--->this
					//				var nm2 = this.id;
					//				//获取父页面A.html
					//				var main = plus.webview.getWebviewById("churuku.html");
					//				//自定义事件,事件名为changeCity
					//				mui.fire(main, 'changeName1', {
					//					nm: nm2
					//				});
					//				//关闭子页面
					//				mui.back();
					//
					//			});

				},
				error: function(xhr, type, errorThrown) {
					//异常处理；
					console.log(type);
				}
			});
			
			
			
			
			
			
			var Id=localStorage.ID
			var tou = localStorage.token
			var task_id= localStorage.task_id
			mui.ajax(`${sever}xgt_sub_task_obj/IfWancheng`, {
				data:{
					'over_id':Id,
					'task_id':task_id,
					
				},
				dataType: 'json', //服务器返回json格式数据
				type: 'post', //HTTP请求类型
				timeout: 10000, //超时时间设置为10秒；
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded',
					'Authorization': "" + 'Bearer ' + tou + ""
				},
				success: function(data) {
					console.log(JSON.stringify(data))
					localStorage.setItem('wancheng',data)
				
				},
				error: function(xhr, type, errorThrown) {
					//异常处理；
					console.log(type);
				}
			});
			
			//任务型阅读
			function formatTemplate(dta, tmpl) {
				var format = {
					name: function(x) {
						return x;
					}
				};
				return tmpl.replace(/{(\w+)}/g, function(m1, m2) {
					if(!m2)
						return "";
					return(format && format[m2]) ? format[m2](dta[m2]) : dta[m2];
				});
			}
          var Id=localStorage.ID
       var myDate=localStorage.myDate
			var tou = localStorage.token
			mui.ajax(`${sever}xgt_sub_task_dtl/Renwulist`, {
				data:{
					'Id':Id,
					'myDate':myDate
				},
				dataType: 'json', //服务器返回json格式数据
				type: 'post', //HTTP请求类型
				timeout: 10000, //超时时间设置为10秒；
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded',
					'Authorization': "" + 'Bearer ' + tou + ""
				},
				success: function(data) {
					console.log(JSON.stringify(data))
				if(!data || !data || data.length <= 0) {
						return;
					}

					//获取模板上的HTML  
					var html = $('#renwuxing1').html();
					//定义一个数组，用来接收格式化合的数据  
					var arr = [];
					//对数据进行遍历  
					$.each(data, function(i, o) {
						o.lie_shu = JSON.stringify(i + 1)
						//这里取到o就是上面rows数组中的值, formatTemplate是最开始定义的方法.
						arr.push(formatTemplate(o, html));
					});
					//好了，最后把数组化成字符串，并添加到table中去。  
					$('#renwuxing').append(arr.join(''));

					//			mui(".mui-card").on("tap", ".mui-table-view-cell", function() {
					//				//当前对象直接就是--->this
					//				var nm2 = this.id;
					//				//获取父页面A.html
					//				var main = plus.webview.getWebviewById("churuku.html");
					//				//自定义事件,事件名为changeCity
					//				mui.fire(main, 'changeName1', {
					//					nm: nm2
					//				});
					//				//关闭子页面
					//				mui.back();
					//
					//			});

				},
				error: function(xhr, type, errorThrown) {
					//异常处理；
					console.log(type);
				}
			});
			
			

		})
		window.addEventListener('refresh', function(e) { //执行刷新  

			location.reload();

		})
	</script>

</html>